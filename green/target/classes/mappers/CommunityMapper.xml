<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="CommunityDAO">
	<insert id="communityWrite" parameterType="community">
		INSERT INTO board (id, b_content,b_img1,b_img1_addr,b_img2,b_img2_addr,b_img3,b_img3_addr)
		VALUES(#{id}, #{b_content}, #{b_img1}, #{b_img1_addr}, #{b_img2}, #{b_img2_addr}, #{b_img3}, #{b_img3_addr})
	</insert>
	
	<select id="getCommunityList" resultType="community">
		SELECT * FROM board ORDER BY board_no desc
	</select>
	
	<!-- select one Community -->
	<select id="getCommunityDetail" parameterType="community" resultType="community">
		SELECT * FROM board WHERE board_no = #{board_no}
	</select>
	
	<!-- updateCommunity -->
	<update id="updateCommunity" parameterType="community">
		UPDATE board SET 
		b_content=#{b_content}
		<if test="b_img1_addr != null">,
		b_img1=#{b_img1},
		b_img1_addr=#{b_img1_addr}
		</if><if test="b_img2_addr != null">,
		b_img2=#{b_img2},
		b_img2_addr=#{b_img2_addr}
		</if><if test="b_img3_addr != null">,
		b_img3=#{b_img3},
		b_img3_addr=#{b_img3_addr}
		</if>		
		WHERE board_no = #{board_no}
	</update>
	
	<!-- delete Community -->
	<delete id="deleteCommunity" parameterType="community">
		DELETE FROM board WHERE board_no = #{board_no}
	</delete>
	
</mapper>